# 精灵（Sprites）

精灵是 PixiJS 中最简单且最常见的可渲染对象。它们表示在屏幕上显示的单个图像。每个 [Sprite](https://pixijs.download/release/docs/PIXI.Sprite.html) 包含要绘制的 [Texture](https://pixijs.download/release/docs/PIXI.Texture.html)，以及在场景图中正常运作所需的所有变换和显示状态。

## 创建精灵

要创建一个精灵，您只需要一个纹理（请查看纹理指南）。使用 PIXI.Loader 类加载 PNG 的 URL，然后调用 `PIXI.Sprite.from(url)`，然后您就完成了。在原型制作时的一个便利之处是，您可以将一个未加载的 URL 传递给 `from()`，PixiJS 将处理它，但是如果您不预加载纹理，则在加载后会看到精灵“弹入”。

请查看[精灵示例代码](/examples/sprite/basic)。

## 使用精灵

在我们的[显示对象指南](display-object)中，我们了解了 DisplayObject 类以及它定义的各种属性。由于精灵对象也是显示对象，您可以移动精灵、旋转它，并更新任何其他显示属性。

## 透明度、色调和混合模式

透明度是一个标准的显示对象属性。您可以使用它将精灵从 0.0 渐变为 1.0 的透明度通过一段时间来实现淡入场景中。

色调允许您将每个像素的颜色值与单个颜色相乘。例如，如果您有一个地牢游戏，您可能会通过设置 `obj.tint = 0x00FF00` 来显示角色的中毒状态，从而给角色一个绿色的色调。

混合模式在渲染时更改像素颜色添加到屏幕的方式。主要的三种模式是 __add__，它将每个像素的 RGB 通道添加到您的精灵下方的内容中（对于发光和照明非常有用），__multiply__ 的工作方式类似于 `tint`，但是在每个像素上进行，以及 __screen__，它叠加像素，照亮下方的任何内容。

## 缩放 vs 宽度和高度

在使用精灵时，一个常见的困惑点在于缩放和尺寸。PIXI.DisplayObject 类允许您为任何对象设置 x 和 y 缩放。作为显示对象，精灵也支持缩放。然而，除此之外，精灵还支持显式的 `width` 和 `height` 属性，可用于实现相同的效果，但以像素而不是百分比为单位。这是因为 Sprite 对象拥有一个 Texture，该 Texture 具有明确的宽度和高度。当您设置精灵的宽度时，内部 PixiJS 会将该宽度转换为基础纹理宽度的百分比，并更新对象的 x 缩放。因此，宽度和高度实际上只是基于像素尺寸而不是百分比的方便方法来更改缩放。

## 旋转中心（Pivot） vs 锚点（Anchor）

如果将精灵添加到舞台并对其进行旋转，默认情况下，它将围绕图像的左上角旋转。在某些情况下，这是您想要的。然而，在许多情况下，您可能希望精灵围绕它包含的图像的中心旋转，或围绕一个任意点旋转。

有两种方法可以实现这一点：*旋转中心*和*锚点*

一个对象的 __旋转中心__ 是距离 Sprite 的左上角的偏移量，以像素为单位。它默认为 (0, 0)。如果您有一个 Texture 大小为 100 像素 x 50 像素的 Sprite，并且希望将旋转中心设置为图像的中心，您可以将旋转中心设置为 (50, 25) - 宽度

和高度的一半。请注意，旋转中心可以设置在图像之外，这意味着旋转中心可以小于零或大于宽度/高度。这在设置复杂的动画层次结构时可能很有用。每个 DisplayObject 都有一个旋转中心。

相反，__锚点__ 仅适用于精灵。锚点在每个维度上以百分比为单位指定，从 0.0 到 1.0。要使用锚点在锚点上旋转纹理的中心点，您可以将 Sprite 的锚点设置为 (0.5, 0.5) - 宽度和高度的 50%。虽然不常见，锚点也可以超出标准的 0.0 - 1.0 范围。

锚点的好处在于它们不受分辨率和尺寸的影响。如果您将精灵锚定在中间，然后稍后更改纹理的大小，您的对象仍然会正确旋转。如果您在计算像素为基础的计算时设置了一个旋转中心，那么更改纹理大小将需要更改旋转中心。

因此，一般来说，在使用精灵时，您会希望使用锚点。

最后需要注意的是，与 CSS 不同，设置图像的 transform-origin 不会移动图像，而在 PixiJS 中，设置锚点或旋转中心将移动图像在屏幕上的位置。换句话说，设置锚点或旋转中心不仅会影响旋转原点，还会影响精灵相对于其父级的位置。
